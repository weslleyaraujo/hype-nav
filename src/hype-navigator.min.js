var hypenessNavigator=function(a){var b,c,d={keys:{down:106,up:107,opener:111}};return c={isLocked:!1,compose:function(a,b){return function(c){return a(b(c))}},applyScreen:function(){return $.fn.is_on_screen=function(){var b=$(a),c={top:b.scrollTop(),left:b.scrollLeft()};c.right=c.left+b.width(),c.bottom=c.top+b.height();var d=this.offset();return d.right=d.left+this.outerWidth(),d.bottom=d.top+this.outerHeight(),!(c.right<d.left||c.left>d.right||c.bottom<d.top||c.top>d.bottom)},c},fixPostsClass:function(){return b.elements.$main.find("div#post").addClass("post"),c},getVisible:function(a){return a=a||0,b.elements.$main.find(".post").each(function(){$(this).is_on_screen()&&c.setVisible($(this))}),b.elements.$main.find(".post.is-visible").eq(a).addClass("is-actual"),b.elements.$main.find(".post.is-visible").length>1&&b.elements.$main.find(".post.is-visible").removeClass("is-visible"),b.elements.$main.find(".post.is-actual").addClass("is-visible"),b.elements.$main.find(".post.is-actual.is-visible")},setVisible:function(a){return a.addClass("is-visible"),c},set:function(a){var d=b.elements.$main.find(".post.is-visible.is-actual")||{},e=d[a](".post:first")||{};return d.length?(d.removeClass("is-visible is-actual"),e.addClass("is-actual"),c.setVisible(e)):c.compose(c.setVisible,c.getVisible)(),c},ajaxDone:function(){c.isLocked&&(c.setVisible(c.getVisible(1)),c.fixPostsClass().keyBind())},ajaxSend:function(a,b,d){d=d||{},c.isHypeAjax(d.url)&&c.keyLock()},keyLock:function(){return c.isLocked=!0,b.elements.$page.unbind(),c},keyBind:function(){return c.isLocked=!1,b.elements.$page.keypress(b.keyHandler),c},isHypeAjax:function(a){return a.match(/(\bhypeness\b)[.]com[.]br\/(\bpage\b)\/[0-9]/g)}},b={init:function(){b.setDom().bind(),c.applyScreen()},bind:function(){return b.elements.$page.keypress(b.keyHandler),$(document).ajaxComplete(c.ajaxDone),$(document).ajaxSend(c.ajaxSend),b},setDom:function(){return b.elements={},b.elements.$main=$("#content"),b.elements.$page=$("body"),c.fixPostsClass(),b},keyHandler:function(a){switch(a.which){case d.keys.up:b.up();break;case d.keys.down:b.down();break;case d.keys.opener:c.compose(b.open,b.getLink)()}},up:function(){c.set("prevAll"),b.scrollTo()},down:function(){c.set("nextAll"),b.scrollTo()},scrollTo:function(){b.elements.$main.find(".post.is-visible.is-actual").length?b.elements.$page.animate({scrollTop:b.elements.$main.find(".post.is-visible.is-actual").offset().top-10},400):b.elements.$page.animate({scrollTop:$(a).scrollTop()+200},400)},open:function(b){a.open(b,"_blank")},getLink:function(){return c.getVisible().find("#title").find("a").attr("href")}}}(window,jQuery).init();